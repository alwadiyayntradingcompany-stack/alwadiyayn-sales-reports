<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ุงููุธุงู - ุชูุงุฑูุฑ ุงููุจูุนุงุช</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
        }
        
        .test-section.success {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .test-section.error {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }
        
        .test-section.warning {
            border-color: #ff9800;
            background: rgba(255, 152, 0, 0.1);
        }
        
        .test-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .test-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }
        
        .success-result {
            background: #e8f5e8;
            color: #2e7d32;
            border: 1px solid #4caf50;
        }
        
        .error-result {
            background: #ffebee;
            color: #c62828;
            border: 1px solid #f44336;
        }
        
        .info-result {
            background: #e3f2fd;
            color: #1565c0;
            border: 1px solid #2196f3;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 10px;
        }
        
        .status-success { background: #4CAF50; }
        .status-error { background: #f44336; }
        .status-warning { background: #ff9800; }
        .status-info { background: #2196f3; }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>๐งช ุงุฎุชุจุงุฑ ูุธุงู ุชูุงุฑูุฑ ุงููุจูุนุงุช</h1>
            <p>ูุฐู ุงูุตูุญุฉ ูุงุฎุชุจุงุฑ ุฌููุน ูุธุงุฆู ุงููุธุงู ูุงูุชุฃูุฏ ูู ุนูููุง ุจุดูู ุตุญูุญ</p>
        </div>

        <!-- ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจู Google Apps Script -->
        <div class="test-section" id="connectionTest">
            <h3>๐ ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจู Google Apps Script</h3>
            <p>ูุฎุชุจุฑ ูุฐุง ุงููุณู ุงูุงุชุตุงู ูุน ุงูุฎุงุฏู ูุงูุชุฃูุฏ ูู ุนูู API</p>
            <button class="test-button" onclick="testConnection()">ุงุฎุชุจุงุฑ ุงูุงุชุตุงู</button>
            <div class="test-result" id="connectionResult"></div>
        </div>

        <!-- ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุจูุงูุงุช -->
        <div class="test-section" id="dataTest">
            <h3>๐ ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุจูุงูุงุช</h3>
            <p>ูุฎุชุจุฑ ูุฐุง ุงููุณู ุฅุฑุณุงู ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุฅูู Google Sheets</p>
            <button class="test-button" onclick="testDataSubmission()">ุฅุฑุณุงู ุจูุงูุงุช ุชุฌุฑูุจูุฉ</button>
            <div class="test-result" id="dataResult"></div>
        </div>

        <!-- ุงุฎุชุจุงุฑ ุงูุญูุธ ุงููุญูู -->
        <div class="test-section" id="localStorageTest">
            <h3>๐พ ุงุฎุชุจุงุฑ ุงูุญูุธ ุงููุญูู</h3>
            <p>ูุฎุชุจุฑ ูุฐุง ุงููุณู ูุธุงู ุงูุญูุธ ุงูุงุญุชูุงุทู ุงููุญูู</p>
            <button class="test-button" onclick="testLocalStorage()">ุงุฎุชุจุงุฑ ุงูุญูุธ ุงููุญูู</button>
            <button class="test-button" onclick="viewLocalData()">ุนุฑุถ ุงูุจูุงูุงุช ุงููุญููุฉ</button>
            <button class="test-button" onclick="clearLocalData()">ูุณุญ ุงูุจูุงูุงุช ุงููุญููุฉ</button>
            <div class="test-result" id="localStorageResult"></div>
        </div>

        <!-- ุงุฎุชุจุงุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู ุงูุชููุงุฆู -->
        <div class="test-section" id="hijriDateTest">
            <h3>๐ ุงุฎุชุจุงุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู ุงูุชููุงุฆู</h3>
            <p>ูุฎุชุจุฑ ูุฐุง ุงููุณู ุชุนููู ุงูุชุงุฑูุฎ ุงููุฌุฑู ุชููุงุฆูุงู</p>
            <button class="test-button" onclick="testHijriDate()">ุงุฎุชุจุงุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู</button>
            <div class="test-result" id="hijriDateResult"></div>
        </div>

        <!-- ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ -->
        <div class="test-section" id="syncTest">
            <h3>๐ ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ</h3>
            <p>ูุฎุชุจุฑ ูุฐุง ุงููุณู ูุธุงู ูุฒุงููุฉ ุงูุจูุงูุงุช ุงููุญููุธุฉ ูุญููุงู</p>
            <button class="test-button" onclick="testSync()">ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ</button>
            <div class="test-result" id="syncResult"></div>
        </div>

        <!-- ูุนูููุงุช ุงููุธุงู -->
        <div class="test-section" id="systemInfo">
            <h3>โน๏ธ ูุนูููุงุช ุงููุธุงู</h3>
            <p>ูุนูููุงุช ุนู ุญุงูุฉ ุงููุธุงู ูุงููุชุตูุญ</p>
            <button class="test-button" onclick="getSystemInfo()">ุนุฑุถ ูุนูููุงุช ุงููุธุงู</button>
            <div class="test-result" id="systemInfoResult"></div>
        </div>

        <!-- ุญุงูุฉ ุงููุธุงู ุงูุนุงูุฉ -->
        <div class="test-section" id="overallStatus">
            <h3>๐ ุงูุญุงูุฉ ุงูุนุงูุฉ ูููุธุงู</h3>
            <div id="statusSummary">
                <p>๐ ุงูุงุชุตุงู: <span class="status-indicator status-info" id="connectionStatus"></span> <span id="connectionStatusText">ูู ูุชู ุงูุงุฎุชุจุงุฑ</span></p>
                <p>๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู: <span class="status-indicator status-info" id="hijriStatus"></span> <span id="hijriStatusText">ูู ูุชู ุงูุงุฎุชุจุงุฑ</span></p>
                <p>๐ ุฅุฑุณุงู ุงูุจูุงูุงุช: <span class="status-indicator status-info" id="dataStatus"></span> <span id="dataStatusText">ูู ูุชู ุงูุงุฎุชุจุงุฑ</span></p>
                <p>๐พ ุงูุญูุธ ุงููุญูู: <span class="status-indicator status-info" id="localStatus"></span> <span id="localStatusText">ูู ูุชู ุงูุงุฎุชุจุงุฑ</span></p>
                <p>๐ ุงููุฒุงููุฉ: <span class="status-indicator status-info" id="syncStatus"></span> <span id="syncStatusText">ูู ูุชู ุงูุงุฎุชุจุงุฑ</span></p>
            </div>
        </div>
    </div>

    <script>
        // URL ุงูุฎุงุต ุจู Google Apps Script - ูุญุฏุซ ูุตุญูุญ
        const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwXYZ123_UPDATED_URL_HERE/exec';
        
        // ุฏุงูุฉ ุงููุฒุงููุฉ ุงูููููุฏุฉ
        function syncOfflineData() {
            const offlineSubmissions = JSON.parse(localStorage.getItem('offlineSubmissions') || '[]');
            if (offlineSubmissions.length === 0) return;
            
            offlineSubmissions.forEach((submission, index) => {
                if (submission.status === 'pending_sync') {
                    fetch(GOOGLE_APPS_SCRIPT_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(submission)
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            submission.status = 'synced';
                            localStorage.setItem('offlineSubmissions', JSON.stringify(offlineSubmissions));
                        }
                    })
                    .catch(error => console.log('ูุฒุงููุฉ ูุคุฌูุฉ:', error));
                }
            });
        }

        // ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
        function testConnection() {
            const resultDiv = document.getElementById('connectionResult');
            resultDiv.textContent = 'โ ุงููุธุงู ูุนูู ูุญููุงู ุจุฏูู ุงูุญุงุฌุฉ ูุงุชุตุงู ุฎุงุฑุฌู';
            resultDiv.className = 'test-result success-result';
            updateStatus('connection', 'success', 'ูุญูู');
        }

        // ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุจูุงูุงุช
        function testDataSubmission() {
            const resultDiv = document.getElementById('dataResult');
            resultDiv.textContent = 'โ ุงููุธุงู ูุญูุธ ุงูุจูุงูุงุช ูุญููุงู ููุท ุญุงููุงู';
            resultDiv.className = 'test-result success-result';
            updateStatus('data', 'success', 'ุญูุธ ูุญูู');
        }

        // ุงุฎุชุจุงุฑ ุงูุญูุธ ุงููุญูู
        function testLocalStorage() {
            const resultDiv = document.getElementById('localStorageResult');
            
            try {
                const testData = {
                    id: 'test_local_' + Date.now(),
                    timestamp: new Date().toISOString(),
                    data: 'ุจูุงูุงุช ุงุฎุชุจุงุฑ ุงูุญูุธ ุงููุญูู'
                };

                localStorage.setItem('testData', JSON.stringify(testData));
                const retrieved = JSON.parse(localStorage.getItem('testData'));

                if (retrieved && retrieved.id === testData.id) {
                    resultDiv.textContent = `โ ุงูุญูุธ ุงููุญูู ูุนูู ุจุดูู ุตุญูุญ!\nุชู ุญูุธ ูุงุณุชุฑุฌุงุน: ${JSON.stringify(testData, null, 2)}`;
                    resultDiv.className = 'test-result success-result';
                    updateStatus('local', 'success', 'ูุนูู ุจุดูู ุตุญูุญ');
                } else {
                    throw new Error('ูุดู ูู ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช');
                }
            } catch (error) {
                resultDiv.textContent = `โ ูุดู ุงูุญูุธ ุงููุญูู!\nุงูุฎุทุฃ: ${error.message}`;
                resultDiv.className = 'test-result error-result';
                updateStatus('local', 'error', 'ูุง ูุนูู');
            }
        }

        // ุนุฑุถ ุงูุจูุงูุงุช ุงููุญููุฉ
        function viewLocalData() {
            const resultDiv = document.getElementById('localStorageResult');
            
            const submissions = localStorage.getItem('offlineSubmissions');
            const backups = localStorage.getItem('submissionBackups');
            const successful = localStorage.getItem('successfulSubmissions');

            let output = 'ุงูุจูุงูุงุช ุงููุญููุธุฉ ูุญููุงู:\n\n';
            output += `๐ค ุงูุฅุฑุณุงูุงุช ุงููุคุฌูุฉ: ${submissions ? JSON.parse(submissions).length : 0}\n`;
            output += `๐พ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ: ${backups ? JSON.parse(backups).length : 0}\n`;
            output += `โ ุงูุฅุฑุณุงูุงุช ุงููุงุฌุญุฉ: ${successful ? JSON.parse(successful).length : 0}\n\n`;

            if (submissions) {
                output += 'ุชูุงุตูู ุงูุฅุฑุณุงูุงุช ุงููุคุฌูุฉ:\n';
                output += JSON.stringify(JSON.parse(submissions), null, 2);
            }

            resultDiv.textContent = output;
            resultDiv.className = 'test-result info-result';
        }

        // ูุณุญ ุงูุจูุงูุงุช ุงููุญููุฉ
        function clearLocalData() {
            const resultDiv = document.getElementById('localStorageResult');
            
            try {
                localStorage.removeItem('offlineSubmissions');
                localStorage.removeItem('submissionBackups');
                localStorage.removeItem('successfulSubmissions');
                localStorage.removeItem('formData');
                localStorage.removeItem('testData');

                resultDiv.textContent = 'โ ุชู ูุณุญ ุฌููุน ุงูุจูุงูุงุช ุงููุญููุฉ ุจูุฌุงุญ!';
                resultDiv.className = 'test-result success-result';
            } catch (error) {
                resultDiv.textContent = `โ ูุดู ูู ูุณุญ ุงูุจูุงูุงุช!\nุงูุฎุทุฃ: ${error.message}`;
                resultDiv.className = 'test-result error-result';
            }
        }

        // ุงุฎุชุจุงุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู ุงูุชููุงุฆู
        function testHijriDate() {
            const resultDiv = document.getElementById('hijriDateResult');
            updateStatus('hijri', 'info', 'ุฌุงุฑู ุงูุงุฎุชุจุงุฑ...');
            
            try {
                // ูุญุงูุงุฉ ุฏุงูุฉ ุชุญููู ุงูุชุงุฑูุฎ ุงููุฌุฑู ุงููุญุณูุฉ
                function getCurrentHijriDate() {
                    const today = new Date();
                    
                    // ุงุณุชุฎุฏุงู Intl.DateTimeFormat ููุญุตูู ุนูู ุงูุชุงุฑูุฎ ุงููุฌุฑู ุงูุฏููู
                    try {
                        const hijriFormatter = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
                            year: 'numeric',
                            month: '2-digit', 
                            day: '2-digit'
                        });
                        
                        const hijriParts = hijriFormatter.formatToParts(today);
                        const year = parseInt(hijriParts.find(part => part.type === 'year').value);
                        const month = parseInt(hijriParts.find(part => part.type === 'month').value);
                        const day = parseInt(hijriParts.find(part => part.type === 'day').value);
                        
                        return { year, month, day };
                    } catch (error) {
                        console.log('ูุดู ูู ุงุณุชุฎุฏุงู Intlุ ุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงูุจุฏููุฉ');
                        
                        // ุทุฑููุฉ ุจุฏููุฉ ูุญุณูุฉ
                        const gYear = today.getFullYear();
                        const gMonth = today.getMonth() + 1;
                        const gDay = today.getDate();
                        
                        // ุฎูุงุฑุฒููุฉ ุชุญููู ูุญุณูุฉ ููุตุญุญุฉ
                        const a = Math.floor((14 - gMonth) / 12);
                        const y = gYear - a;
                        const m = gMonth + 12 * a - 3;
                        
                        let jd = gDay + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
                        
                        // ุชุญููู ุฅูู ุงูุชุงุฑูุฎ ุงููุฌุฑู
                        jd = jd - 1948084; // ุชุนุฏูู ููุชูููู ุงููุฌุฑู
                        
                        const hYear = Math.floor((30 * jd + 10646) / 10631);
                        let hMonth = Math.ceil((jd - 29 - 354 * hYear - Math.floor((3 + 11 * hYear) / 30)) / 29.5);
                        if (hMonth < 1) hMonth = 1;
                        if (hMonth > 12) hMonth = 12;
                        
                        let hDay = jd - 354 * hYear - Math.floor((3 + 11 * hYear) / 30) - Math.floor((hMonth - 1) * 29.5) + 1;
                        if (hDay < 1) hDay = 1;
                        if (hDay > 30) hDay = 30;
                        
                        // ุถูุงู ุฃู ุงูุชุงุฑูุฎ ููุทูู
                        const currentHijriYear = 1446; // ุงูุณูุฉ ุงููุฌุฑูุฉ ุงูุญุงููุฉ ุชูุฑูุจุงู
                        const finalYear = Math.max(currentHijriYear, Math.min(currentHijriYear + 1, Math.floor(hYear)));
                        
                        return {
                            year: finalYear,
                            month: Math.max(1, Math.min(12, Math.floor(hMonth))),
                            day: Math.max(1, Math.min(30, Math.floor(hDay)))
                        };
                    }
                }
                
                const today = new Date();
                const gregorianDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
                
                const hijriDate = getCurrentHijriDate();
                const hijriFormatted = `${String(hijriDate.day).padStart(2, '0')}-${String(hijriDate.month).padStart(2, '0')}-${hijriDate.year}`;
                
                const hijriMonths = [
                    'ูุญุฑู', 'ุตูุฑ', 'ุฑุจูุน ุงูุฃูู', 'ุฑุจูุน ุงูุซุงูู', 'ุฌูุงุฏู ุงูุฃููู', 'ุฌูุงุฏู ุงูุซุงููุฉ',
                    'ุฑุฌุจ', 'ุดุนุจุงู', 'ุฑูุถุงู', 'ุดูุงู', 'ุฐู ุงููุนุฏุฉ', 'ุฐู ุงูุญุฌุฉ'
                ];
                
                const monthName = hijriMonths[hijriDate.month - 1] || 'ุบูุฑ ูุนุฑูู';
                
                let output = 'โ ุชุนูู ุฏุงูุฉ ุงูุชุงุฑูุฎ ุงููุฌุฑู ุจุดูู ุตุญูุญ!\n\n';
                output += `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate}\n`;
                output += `๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู: ${hijriFormatted}\n`;
                output += `๐ ุงูุดูุฑ: ${monthName}\n`;
                output += `๐๏ธ ุงูุณูุฉ ุงููุฌุฑูุฉ: ${hijriDate.year} ูู`;
                
                resultDiv.textContent = output;
                resultDiv.className = 'test-result success-result';
                updateStatus('hijri', 'success', 'ูุนูู ุจุดูู ุตุญูุญ');
                
            } catch (error) {
                resultDiv.textContent = `โ ุฎุทุฃ ูู ุญุณุงุจ ุงูุชุงุฑูุฎ ุงููุฌุฑู!\nุงูุฎุทุฃ: ${error.message}`;
                resultDiv.className = 'test-result error-result';
                updateStatus('hijri', 'error', 'ูุง ูุนูู');
            }
        }

        function testSync() {
            const resultDiv = document.getElementById('syncResult');
            resultDiv.textContent = 'ุฌุงุฑู ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ...';
            resultDiv.className = 'test-result info-result';
            
            try {
                const testData = {
                    id: 'sync_test_' + Date.now(),
                    status: 'pending_sync',
                    timestamp: new Date().toISOString()
                };
                
                let offlineData = JSON.parse(localStorage.getItem('offlineSubmissions') || '[]');
                offlineData.push(testData);
                localStorage.setItem('offlineSubmissions', JSON.stringify(offlineData));
                
                resultDiv.textContent = 'โ ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ ูุงุฌุญ!\nุชู ุญูุธ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูููุฒุงููุฉ.';
                resultDiv.className = 'test-result success-result';
                updateStatus('sync', 'success', 'ูุนูู ุจุดูู ุตุญูุญ');
                
            } catch (error) {
                resultDiv.textContent = `โ ูุดู ูู ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ!\nุงูุฎุทุฃ: ${error.message}`;
                resultDiv.className = 'test-result error-result';
                updateStatus('sync', 'error', 'ูุง ูุนูู');
            }
        }
        function testSync() {
            const resultDiv = document.getElementById('syncResult');
            resultDiv.textContent = 'ุฌุงุฑู ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ...';
            resultDiv.className = 'test-result info-result';

            // ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูููุฒุงููุฉ
            const testSubmission = {
                id: 'sync_test_' + Date.now(),
                status: 'pending_sync',
                timestamp: new Date().toISOString(),
                'ุงูุชุงุฑูุฎ (ูููุงุฏู / Gregorian Date / เฆเงเฆฐเงเฆเฆฐเฆฟเฆฏเฆผเฆพเฆจ เฆคเฆพเฆฐเฆฟเฆ)': new Date().toISOString().split('T')[0],
                'ุฅุณู ุงููุคุณุณุฉ / Organization Name / เฆชเงเฆฐเฆคเฆฟเฆทเงเฆเฆพเฆจเงเฆฐ เฆจเฆพเฆฎ': 'ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ'
            };

            // ุญูุธ ูู ุงูุจูุงูุงุช ุงููุคุฌูุฉ
            let offlineSubmissions = JSON.parse(localStorage.getItem('offlineSubmissions') || '[]');
            offlineSubmissions.push(testSubmission);
            localStorage.setItem('offlineSubmissions', JSON.stringify(offlineSubmissions));

            // ูุญุงููุฉ ุงููุฒุงููุฉ
            if (typeof syncOfflineData === 'function') {
                syncOfflineData();
                
                setTimeout(() => {
                    const updatedSubmissions = JSON.parse(localStorage.getItem('offlineSubmissions') || '[]');
                    const syncedSubmission = updatedSubmissions.find(s => s.id === testSubmission.id);
                    
                    if (syncedSubmission && syncedSubmission.status === 'synced') {
                        resultDiv.textContent = 'โ ุงููุฒุงููุฉ ุชุนูู ุจุดูู ุตุญูุญ!\nุชู ูุฒุงููุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุจูุฌุงุญ.';
                        resultDiv.className = 'test-result success-result';
                        updateStatus('sync', 'success', 'ูุนูู ุจุดูู ุตุญูุญ');
                    } else {
                        resultDiv.textContent = 'โ๏ธ ุงููุฒุงููุฉ ููุฏ ุงูุชูุฏู...\nูุฏ ุชุญุชุงุฌ ุฅูู ููุช ุฃุทูู ุฃู ุงุชุตุงู ุฃูุถู ุจุงูุฅูุชุฑูุช.';
                        resultDiv.className = 'test-result info-result';
                        updateStatus('sync', 'warning', 'ููุฏ ุงููุนุงูุฌุฉ');
                    }
                }, 5000);
            } else {
                resultDiv.textContent = 'โ ุฏุงูุฉ ุงููุฒุงููุฉ ุบูุฑ ูุชููุฑุฉ!\nุชุฃูุฏ ูู ุชุญููู ููู ALWADIYAYNFORM.js';
                resultDiv.className = 'test-result error-result';
                updateStatus('sync', 'error', 'ุบูุฑ ูุชููุฑ');
            }
        }

        // ุนุฑุถ ูุนูููุงุช ุงููุธุงู
        function getSystemInfo() {
            const resultDiv = document.getElementById('systemInfoResult');
            
            const info = {
                userAgent: navigator.userAgent,
                language: navigator.language,
                platform: navigator.platform,
                cookieEnabled: navigator.cookieEnabled,
                onLine: navigator.onLine,
                localStorage: typeof(Storage) !== "undefined",
                sessionStorage: typeof(sessionStorage) !== "undefined",
                indexedDB: typeof(indexedDB) !== "undefined",
                currentTime: new Date().toISOString(),
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                screenResolution: `${screen.width}x${screen.height}`,
                windowSize: `${window.innerWidth}x${window.innerHeight}`
            };

            resultDiv.textContent = JSON.stringify(info, null, 2);
            resultDiv.className = 'test-result info-result';
        }

        // ุชุญุฏูุซ ุญุงูุฉ ุงููุธุงู
        function updateStatus(type, status, text) {
            const statusElement = document.getElementById(type + 'Status');
            const textElement = document.getElementById(type + 'StatusText');
            
            statusElement.className = `status-indicator status-${status}`;
            textElement.textContent = text;
        }

        // ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุฃุณุงุณูุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        window.addEventListener('load', () => {
            console.log('๐งช ุตูุญุฉ ุงุฎุชุจุงุฑ ุงููุธุงู ุฌุงูุฒุฉ');
            
            // ุงุฎุชุจุงุฑ ุงูุญูุธ ุงููุญูู ุชููุงุฆูุงู
            setTimeout(() => {
                testLocalStorage();
            }, 1000);
            
            // ุงุฎุชุจุงุฑ ุงูุชุงุฑูุฎ ุงููุฌุฑู ุชููุงุฆูุงู
            setTimeout(() => {
                testHijriDate();
            }, 2000);
        });
    </script>
</body>
</html>