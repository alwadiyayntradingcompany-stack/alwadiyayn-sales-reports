<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„Ù†Ø¸Ø§Ù… - Ù…Ø­Ù…ÙˆØ¯ Ø­Ø³ÙŠÙ†</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, #2c3e50, #3498db); color: white; padding: 30px; text-align: center; }
        .content { padding: 30px; }
        .test-section { margin-bottom: 30px; padding: 20px; border: 2px solid #ecf0f1; border-radius: 10px; }
        .test-section h3 { color: #2c3e50; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .btn { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
        .btn-primary { background: #3498db; color: white; }
        .btn-success { background: #27ae60; color: white; }
        .btn-warning { background: #f39c12; color: white; }
        .btn-danger { background: #e74c3c; color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .result { margin-top: 15px; padding: 15px; border-radius: 5px; font-family: monospace; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .status-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px; }
        .status-card { padding: 15px; border-radius: 8px; text-align: center; }
        .status-online { background: #d4edda; color: #155724; }
        .status-offline { background: #f8d7da; color: #721c24; }
        .links-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .link-card { padding: 20px; border: 2px solid #ecf0f1; border-radius: 10px; text-align: center; }
        .link-card a { display: inline-block; padding: 12px 25px; background: #3498db; color: white; text-decoration: none; border-radius: 5px; margin-top: 10px; transition: all 0.3s; }
        .link-card a:hover { background: #2980b9; transform: translateY(-2px); }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„Ù†Ø¸Ø§Ù…</h1>
            <p>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª - Ù…Ø­Ù…ÙˆØ¯ Ø­Ø³ÙŠÙ†</p>
            <p>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: <span id="testDate"></span></p>
        </div>

        <div class="content">
            <!-- Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
            <div class="test-section">
                <h3>ğŸ”— Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                <div class="links-section">
                    <div class="link-card">
                        <h4>ğŸ“ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h4>
                        <p>Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</p>
                        <a href="https://alwadiyayntradingcompany-stack.github.io/alwadiyayn-sales-reports/ALWADIYAYNFORM.html" target="_blank">ÙØªØ­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</a>
                    </div>
                    <div class="link-card">
                        <h4>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h4>
                        <p>Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</p>
                        <a href="https://alwadiyayntradingcompany-stack.github.io/alwadiyayn-sales-reports/admin-new.html" target="_blank">ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
                    </div>
                    <div class="link-card">
                        <h4>ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h4>
                        <p>ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù…</p>
                        <a href="https://alwadiyayntradingcompany-stack.github.io/alwadiyayn-sales-reports/index.html" target="_blank">ÙØªØ­ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    </div>
                </div>
            </div>

            <!-- Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù†Ø¸Ø§Ù… -->
            <div class="test-section">
                <h3>âš™ï¸ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                <button class="btn btn-primary" onclick="testLocalStorage()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ</button>
                <button class="btn btn-success" onclick="testDateFunctions()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ</button>
                <button class="btn btn-warning" onclick="testFormValidation()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                <button class="btn btn-danger" onclick="testBackupSystem()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</button>
                <div id="functionResults"></div>
            </div>

            <!-- Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
            <div class="test-section">
                <h3>ğŸ’¾ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
                <button class="btn btn-primary" onclick="createTestData()">Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©</button>
                <button class="btn btn-success" onclick="viewStoredData()">Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</button>
                <button class="btn btn-warning" onclick="exportTestReport()">ØªØµØ¯ÙŠØ± ØªÙ‚Ø±ÙŠØ± ØªØ¬Ø±ÙŠØ¨ÙŠ</button>
                <button class="btn btn-danger" onclick="clearTestData()">Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©</button>
                <div id="dataResults"></div>
            </div>

            <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù… -->
            <div class="test-section">
                <h3>ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                <div class="status-grid">
                    <div class="status-card status-online">
                        <h4>âœ… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ</h4>
                        <p>ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ</p>
                    </div>
                    <div class="status-card status-online">
                        <h4>âœ… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ</h4>
                        <p id="hijriDate">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                    </div>
                    <div class="status-card" id="connectionStatus">
                        <h4>ğŸŒ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</h4>
                        <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</p>
                    </div>
                    <div class="status-card status-online">
                        <h4>ğŸ”§ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h4>
                        <p>Ù…ØªØ§Ø­Ø© ÙˆÙ…Ø­Ø¯Ø«Ø©</p>
                    </div>
                </div>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
            <div class="test-section">
                <h3>â„¹ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                <div id="systemInfo"></div>
            </div>
        </div>
    </div>

    <script>
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ®
        document.getElementById('testDate').textContent = new Date().toLocaleString('ar-SA');

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        function testLocalStorage() {
            const results = document.getElementById('functionResults');
            try {
                localStorage.setItem('test', 'success');
                const test = localStorage.getItem('test');
                localStorage.removeItem('test');
                
                results.innerHTML = '<div class="result success">âœ… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ</div>';
            } catch (error) {
                results.innerHTML = '<div class="result error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ: ' + error.message + '</div>';
            }
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
        function testDateFunctions() {
            const results = document.getElementById('functionResults');
            try {
                const hijriDate = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit'
                }).format(new Date());
                
                results.innerHTML = '<div class="result success">âœ… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ: ' + hijriDate + '</div>';
                document.getElementById('hijriDate').textContent = hijriDate;
            } catch (error) {
                results.innerHTML = '<div class="result error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ: ' + error.message + '</div>';
            }
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function testFormValidation() {
            const results = document.getElementById('functionResults');
            const testData = {
                cash: '1000',
                network: '500',
                purchases: '800',
                branch: 'Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ',
                responsible: 'Ù…Ø­Ù…ÙˆØ¯ Ø­Ø³ÙŠÙ†'
            };
            
            let isValid = true;
            let errors = [];
            
            if (!testData.cash || isNaN(testData.cash)) {
                isValid = false;
                errors.push('Ù‚ÙŠÙ…Ø© Ø§Ù„ÙƒØ§Ø´ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
            
            if (!testData.branch) {
                isValid = false;
                errors.push('Ø§Ù„ÙØ±Ø¹ Ù…Ø·Ù„ÙˆØ¨');
            }
            
            if (isValid) {
                results.innerHTML = '<div class="result success">âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</div>';
            } else {
                results.innerHTML = '<div class="result error">âŒ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚: ' + errors.join(', ') + '</div>';
            }
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
        function testBackupSystem() {
            const results = document.getElementById('functionResults');
            try {
                const backupData = {
                    timestamp: new Date().toISOString(),
                    data: { test: 'backup test' },
                    version: '1.0'
                };
                
                localStorage.setItem('testBackup', JSON.stringify(backupData));
                const restored = JSON.parse(localStorage.getItem('testBackup'));
                localStorage.removeItem('testBackup');
                
                if (restored && restored.data.test === 'backup test') {
                    results.innerHTML = '<div class="result success">âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</div>';
                } else {
                    results.innerHTML = '<div class="result error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</div>';
                }
            } catch (error) {
                results.innerHTML = '<div class="result error">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©: ' + error.message + '</div>';
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        function createTestData() {
            const results = document.getElementById('dataResults');
            const testSubmissions = [
                {
                    id: 'test_' + Date.now(),
                    timestamp: new Date().toISOString(),
                    data: {
                        'ÙƒØ§Ø´ / Cash / à¦¨à¦—à¦¦': '1500',
                        'Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ / Point of Sale System / à¦ªà¦¯à¦¼à§‡à¦¨à§à¦Ÿ à¦…à¦« à¦¸à§‡à¦² à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦®': '800',
                        'Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© / Daily Purchases / à¦¦à§ˆà¦¨à¦¿à¦• à¦•à§à¦°à¦¯à¦¼': '1200',
                        'Ø§Ù„ÙØ±Ø¹ / Ø§Ù„Ù…ÙˆÙ‚Ø¹ / Branch / Location / à¦¶à¦¾à¦–à¦¾ / à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨': 'Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ',
                        'Ø§Ù„Ù…Ø³Ø¦ÙˆÙ„ / Responsible Person / à¦¦à¦¾à¦¯à¦¼à¦¿à¦¤à§à¦¬à¦¶à§€à¦² à¦¬à§à¦¯à¦•à§à¦¤à¦¿': 'Ù…Ø­Ù…ÙˆØ¯ Ø­Ø³ÙŠÙ†'
                    }
                },
                {
                    id: 'test_' + (Date.now() + 1),
                    timestamp: new Date(Date.now() - 86400000).toISOString(),
                    data: {
                        'ÙƒØ§Ø´ / Cash / à¦¨à¦—à¦¦': '2000',
                        'Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ / Point of Sale System / à¦ªà¦¯à¦¼à§‡à¦¨à§à¦Ÿ à¦…à¦« à¦¸à§‡à¦² à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦®': '1200',
                        'Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© / Daily Purchases / à¦¦à§ˆà¦¨à¦¿à¦• à¦•à§à¦°à¦¯à¦¼': '1800',
                        'Ø§Ù„ÙØ±Ø¹ / Ø§Ù„Ù…ÙˆÙ‚Ø¹ / Branch / Location / à¦¶à¦¾à¦–à¦¾ / à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨': 'Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø«Ø§Ù†ÙŠ',
                        'Ø§Ù„Ù…Ø³Ø¦ÙˆÙ„ / Responsible Person / à¦¦à¦¾à¦¯à¦¼à¦¿à¦¤à§à¦¬à¦¶à§€à¦² à¦¬à§à¦¯à¦•à§à¦¤à¦¿': 'Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ'
                    }
                }
            ];
            
            localStorage.setItem('testSubmissions', JSON.stringify(testSubmissions));
            results.innerHTML = '<div class="result success">âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ' + testSubmissions.length + ' Ø¥Ø±Ø³Ø§Ù„ ØªØ¬Ø±ÙŠØ¨ÙŠ</div>';
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        function viewStoredData() {
            const results = document.getElementById('dataResults');
            const submissions = JSON.parse(localStorage.getItem('successfulSubmissions') || '[]');
            const testSubmissions = JSON.parse(localStorage.getItem('testSubmissions') || '[]');
            const pending = JSON.parse(localStorage.getItem('pendingSubmissions') || '[]');
            
            let html = '<div class="result info">';
            html += '<h4>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</h4>';
            html += '<p>â€¢ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø§Ø¬Ø­Ø©: ' + submissions.length + '</p>';
            html += '<p>â€¢ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©: ' + testSubmissions.length + '</p>';
            html += '<p>â€¢ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©: ' + pending.length + '</p>';
            html += '<p>â€¢ Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + Math.round(JSON.stringify(localStorage).length / 1024) + ' KB</p>';
            html += '</div>';
            
            results.innerHTML = html;
        }

        // ØªØµØ¯ÙŠØ± ØªÙ‚Ø±ÙŠØ± ØªØ¬Ø±ÙŠØ¨ÙŠ
        function exportTestReport() {
            const results = document.getElementById('dataResults');
            const testData = JSON.parse(localStorage.getItem('testSubmissions') || '[]');
            
            if (testData.length === 0) {
                results.innerHTML = '<div class="result error">âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©. Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹</div>';
                return;
            }
            
            let totalSales = 0;
            let totalPurchases = 0;
            
            testData.forEach(submission => {
                const cash = parseFloat(submission.data['ÙƒØ§Ø´ / Cash / à¦¨à¦—à¦¦'] || 0);
                const network = parseFloat(submission.data['Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ / Point of Sale System / à¦ªà¦¯à¦¼à§‡à¦¨à§à¦Ÿ à¦…à¦« à¦¸à§‡à¦² à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦®'] || 0);
                const purchases = parseFloat(submission.data['Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© / Daily Purchases / à¦¦à§ˆà¦¨à¦¿à¦• à¦•à§à¦°à¦¯à¦¼'] || 0);
                
                totalSales += cash + network;
                totalPurchases += purchases;
            });
            
            const profit = totalSales - totalPurchases;
            
            let html = '<div class="result success">';
            html += '<h4>ğŸ“ˆ ØªÙ‚Ø±ÙŠØ± ØªØ¬Ø±ÙŠØ¨ÙŠ:</h4>';
            html += '<p>â€¢ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: ' + totalSales.toLocaleString() + ' Ø±ÙŠØ§Ù„</p>';
            html += '<p>â€¢ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª: ' + totalPurchases.toLocaleString() + ' Ø±ÙŠØ§Ù„</p>';
            html += '<p>â€¢ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ' + profit.toLocaleString() + ' Ø±ÙŠØ§Ù„</p>';
            html += '<p>â€¢ Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±: ' + testData.length + '</p>';
            html += '</div>';
            
            results.innerHTML = html;
        }

        // Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        function clearTestData() {
            const results = document.getElementById('dataResults');
            localStorage.removeItem('testSubmissions');
            results.innerHTML = '<div class="result info">ğŸ—‘ï¸ ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©</div>';
        }

        // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
        function checkConnection() {
            const status = document.getElementById('connectionStatus');
            if (navigator.onLine) {
                status.className = 'status-card status-online';
                status.innerHTML = '<h4>âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</h4><p>Ù…ØªØµÙ„</p>';
            } else {
                status.className = 'status-card status-offline';
                status.innerHTML = '<h4>âŒ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</h4><p>ØºÙŠØ± Ù…ØªØµÙ„</p>';
            }
        }

        // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
        function showSystemInfo() {
            const info = document.getElementById('systemInfo');
            let html = '<div class="result info">';
            html += '<h4>ğŸ–¥ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ù„Ù†Ø¸Ø§Ù…:</h4>';
            html += '<p><strong>Ø§Ù„Ù…ØªØµÙØ­:</strong> ' + navigator.userAgent.split(' ').pop() + '</p>';
            html += '<p><strong>Ø§Ù„Ù„ØºØ©:</strong> ' + navigator.language + '</p>';
            html += '<p><strong>Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©:</strong> ' + Intl.DateTimeFormat().resolvedOptions().timeZone + '</p>';
            html += '<p><strong>Ø¯Ø¹Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:</strong> ' + (typeof(Storage) !== "undefined" ? 'Ù…Ø¯Ø¹ÙˆÙ…' : 'ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…') + '</p>';
            html += '<p><strong>Ø­Ø¬Ù… Ø§Ù„Ø´Ø§Ø´Ø©:</strong> ' + screen.width + 'x' + screen.height + '</p>';
            html += '<p><strong>ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„:</strong> ' + new Date().toLocaleString('ar-SA') + '</p>';
            html += '</div>';
            info.innerHTML = html;
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.onload = function() {
            testDateFunctions();
            checkConnection();
            showSystemInfo();
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            window.addEventListener('online', checkConnection);
            window.addEventListener('offline', checkConnection);
        };
    </script>
</body>
</html>